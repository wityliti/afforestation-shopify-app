{% comment %}
  Afforestation Impact Banner
  A header/announcement bar style widget showing climate commitment
  All visual settings are configurable in theme editor
{% endcomment %}

<!-- Flaticon UIcons CSS -->
<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>

<div class="afforestation-banner" id="afforestation-banner-{{ block.id }}" style="
  --banner-bg: {{ block.settings.background_color }};
  --banner-text: {{ block.settings.text_color }};
  --banner-padding: {% case block.settings.style %}{% when 'compact' %}6px 16px{% when 'bold' %}14px 24px{% else %}10px 20px{% endcase %};
  --banner-size: {% case block.settings.style %}{% when 'bold' %}16px{% else %}14px{% endcase %};
  --banner-weight: {% case block.settings.style %}{% when 'bold' %}600{% else %}400{% endcase %};
">
  <div class="banner-content">
    <span class="banner-icon"><i class="fi fi-rr-{{ block.settings.icon }}"></i></span>
    <span class="banner-text">{{ block.settings.message }}</span>
    {% if block.settings.show_branding %}
    <span class="banner-badge">
      <span class="banner-brand">Afforestation</span>
    </span>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Impact Announcement Bar",
  "target": "section",
  "settings": [
    {
      "type": "header",
      "content": "Message"
    },
    {
      "type": "text",
      "id": "message",
      "label": "Banner message",
      "default": "1% of every order funds climate action",
      "info": "Write in any language!"
    },
    {
      "type": "select",
      "id": "icon",
      "label": "Icon",
      "options": [
        { "value": "tree", "label": "Tree" },
        { "value": "leaf", "label": "Leaf" },
        { "value": "flower", "label": "Flower" },
        { "value": "seedling", "label": "Seedling" },
        { "value": "cactus", "label": "Cactus" },
        { "value": "tulip", "label": "Tulip" },
        { "value": "earth-americas", "label": "Planet" },
        { "value": "cloud", "label": "Cloud" }
      ],
      "default": "tree"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "select",
      "id": "style",
      "label": "Banner style",
      "options": [
        { "value": "compact", "label": "Compact - smaller, subtle" },
        { "value": "standard", "label": "Standard - balanced" },
        { "value": "bold", "label": "Bold - large, prominent" }
      ],
      "default": "standard"
    },
    {
      "type": "checkbox",
      "id": "show_branding",
      "label": "Show Afforestation badge",
      "default": true
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#2d5a27"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}

<style>
  .afforestation-banner {
    --banner-bg: #2d5a27;
    --banner-text: #ffffff;
    --banner-padding: 10px 20px;
    --banner-size: 14px;
    --banner-weight: 400;
    
    width: 100vw;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    background: var(--banner-bg);
    color: var(--banner-text);
    padding: var(--banner-padding);
    text-align: center;
    font-size: var(--banner-size);
    font-weight: var(--banner-weight);
    box-sizing: border-box;
  }
  
  .afforestation-banner .banner-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
  }
  
  .afforestation-banner .banner-icon {
    font-size: 18px;
  }
  
  .afforestation-banner .banner-text {
    color: var(--banner-text);
  }
  
  .afforestation-banner .banner-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
  }
  
  .afforestation-banner .banner-brand {
    font-weight: 600;
    font-size: 12px;
    letter-spacing: 0.5px;
  }
  
  @media (max-width: 480px) {
    .afforestation-banner {
      padding: 8px 12px;
      font-size: 12px;
    }
    
    .afforestation-banner .banner-badge {
      display: none;
    }
  }
</style>
