{% comment %}
  Afforestation Banner - App Embed Block
  Always visible at top of store when enabled
{% endcomment %}

<!-- Flaticon UIcons CSS -->
<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css'>

{% if block.settings.enabled %}
<div class="afforestation-banner-embed" id="afforestation-banner-embed" style="
  --banner-bg: {{ block.settings.background_color }};
  --banner-text: {{ block.settings.text_color }};
">
  <div class="banner-content">
    <span class="banner-icon"><i class="fi fi-rr-{{ block.settings.icon }}"></i></span>
    <span class="banner-text">{{ block.settings.message }}</span>
    {% if block.settings.show_branding %}
    <span class="banner-badge">
      <span class="banner-brand">Afforestation</span>
    </span>
    {% endif %}
  </div>
</div>

<style>
  .afforestation-banner-embed {
    --banner-bg: #2d5a27;
    --banner-text: #ffffff;
    
    width: 100vw;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    background: var(--banner-bg);
    color: var(--banner-text);
    padding: {% if block.settings.style == 'compact' %}6px 16px{% elsif block.settings.style == 'bold' %}14px 24px{% else %}10px 20px{% endif %};
    text-align: center;
    font-size: {% if block.settings.style == 'bold' %}16px{% else %}14px{% endif %};
    font-weight: {% if block.settings.style == 'bold' %}600{% else %}400{% endif %};
    z-index: 100;
  }
  
  .afforestation-banner-embed .banner-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
  }
  
  .afforestation-banner-embed .banner-icon {
    font-size: {% if block.settings.style == 'bold' %}20px{% else %}18px{% endif %};
  }
  
  .afforestation-banner-embed .banner-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
  }
  
  .afforestation-banner-embed .banner-brand {
    font-weight: 600;
    font-size: 12px;
    letter-spacing: 0.5px;
  }
  
  @media (max-width: 480px) {
    .afforestation-banner-embed {
      padding: 8px 12px;
      font-size: 12px;
    }
    
    .afforestation-banner-embed .banner-badge {
      display: none;
    }
  }
</style>
{% endif %}

{% schema %}
{
  "name": "Impact Banner",
  "target": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "enabled",
      "label": "Enable banner",
      "default": true
    },
    {
      "type": "header",
      "content": "Message"
    },
    {
      "type": "text",
      "id": "message",
      "label": "Banner message",
      "default": "1% of every order funds climate action",
      "info": "Write in any language!"
    },
    {
      "type": "select",
      "id": "icon",
      "label": "Icon",
      "options": [
        { "value": "tree", "label": "Tree" },
        { "value": "leaf", "label": "Leaf" },
        { "value": "flower", "label": "Flower" },
        { "value": "seedling", "label": "Seedling" },
        { "value": "earth-americas", "label": "Planet" },
        { "value": "cloud", "label": "Cloud" }
      ],
      "default": "tree"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "select",
      "id": "style",
      "label": "Banner style",
      "options": [
        { "value": "compact", "label": "Compact" },
        { "value": "standard", "label": "Standard" },
        { "value": "bold", "label": "Bold" }
      ],
      "default": "standard"
    },
    {
      "type": "checkbox",
      "id": "show_branding",
      "label": "Show Afforestation badge",
      "default": true
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#2d5a27"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    }
  ]
}
{% endschema %}
